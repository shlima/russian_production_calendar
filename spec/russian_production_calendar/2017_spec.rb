# @refs http://www.consultant.ru/law/ref/calendar/proizvodstvennye/2017/
RSpec.describe '2017' do
  let(:holidays) do
    %w[
      01.01.2017
      02.01.2017
      03.01.2017
      04.01.2017
      05.01.2017
      06.01.2017
      07.01.2017
      08.01.2017
      14.01.2017
      15.01.2017
      21.01.2017
      22.01.2017
      28.01.2017
      29.01.2017

      04.02.2017
      05.02.2017
      11.02.2017
      12.02.2017
      18.02.2017
      19.02.2017
      23.02.2017
      24.02.2017
      25.02.2017
      26.02.2017

      04.03.2017
      05.03.2017
      08.03.2017
      11.03.2017
      12.03.2017
      18.03.2017
      19.03.2017
      25.03.2017
      26.03.2017

      01.04.2017
      02.04.2017
      08.04.2017
      09.04.2017
      15.04.2017
      16.04.2017
      22.04.2017
      23.04.2017
      29.04.2017
      30.04.2017

      01.05.2017
      06.05.2017
      07.05.2017
      08.05.2017
      09.05.2017
      13.05.2017
      14.05.2017
      20.05.2017
      21.05.2017
      27.05.2017
      28.05.2017

      03.06.2017
      04.06.2017
      10.06.2017
      11.06.2017
      12.06.2017
      17.06.2017
      18.06.2017
      24.06.2017
      25.06.2017

      01.07.2017
      02.07.2017
      08.07.2017
      09.07.2017
      15.07.2017
      16.07.2017
      22.07.2017
      23.07.2017
      29.07.2017
      30.07.2017

      05.08.2017
      06.08.2017
      12.08.2017
      13.08.2017
      19.08.2017
      20.08.2017
      26.08.2017
      27.08.2017

      02.09.2017
      03.09.2017
      09.09.2017
      10.09.2017
      16.09.2017
      17.09.2017
      23.09.2017
      24.09.2017
      30.09.2017

      01.10.2017
      07.10.2017
      08.10.2017
      14.10.2017
      15.10.2017
      21.10.2017
      22.10.2017
      28.10.2017
      29.10.2017

      04.11.2017
      05.11.2017
      06.11.2017
      11.11.2017
      12.11.2017
      18.11.2017
      19.11.2017
      25.11.2017
      26.11.2017

      02.12.2017
      03.12.2017
      09.12.2017
      10.12.2017
      16.12.2017
      17.12.2017
      23.12.2017
      24.12.2017
      30.12.2017
      31.12.2017
    ].map(&Date.method(:parse))
  end

  let(:year) do
    days_of_year(2017)
  end

  it 'works for holidays' do
    expect(year.select(&:holiday?)).to eq(holidays)
  end

  it 'works for workdays' do
    expect(year.select(&:workday?)).to eq(year - holidays)
  end
end
