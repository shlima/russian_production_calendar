# @refs http://www.consultant.ru/law/ref/calendar/proizvodstvennye/2018/
RSpec.describe '2018' do
  let(:holidays) do
    %w[
      01.01.2018
      02.01.2018
      03.01.2018
      04.01.2018
      05.01.2018
      06.01.2018
      07.01.2018
      08.01.2018
      13.01.2018
      14.01.2018
      20.01.2018
      21.01.2018
      27.01.2018
      28.01.2018

      03.02.2018
      04.02.2018
      10.02.2018
      11.02.2018
      17.02.2018
      18.02.2018
      23.02.2018
      24.02.2018
      25.02.2018

      03.03.2018
      04.03.2018
      08.03.2018
      09.03.2018
      10.03.2018
      11.03.2018
      17.03.2018
      18.03.2018
      24.03.2018
      25.03.2018
      31.03.2018

      01.04.2018
      07.04.2018
      08.04.2018
      14.04.2018
      15.04.2018
      21.04.2018
      22.04.2018
      29.04.2018
      30.04.2018

      01.05.2018
      02.05.2018
      05.05.2018
      06.05.2018
      09.05.2018
      12.05.2018
      13.05.2018
      19.05.2018
      20.05.2018
      26.05.2018
      27.05.2018

      02.06.2018
      03.06.2018
      10.06.2018
      11.06.2018
      12.06.2018
      16.06.2018
      17.06.2018
      23.06.2018
      24.06.2018
      30.06.2018

      01.07.2018
      07.07.2018
      08.07.2018
      14.07.2018
      15.07.2018
      21.07.2018
      22.07.2018
      28.07.2018
      29.07.2018

      04.08.2018
      05.08.2018
      11.08.2018
      12.08.2018
      18.08.2018
      19.08.2018
      25.08.2018
      26.08.2018

      01.09.2018
      02.09.2018
      08.09.2018
      09.09.2018
      15.09.2018
      16.09.2018
      22.09.2018
      23.09.2018
      29.09.2018
      30.09.2018

      06.10.2018
      07.10.2018
      13.10.2018
      14.10.2018
      20.10.2018
      21.10.2018
      27.10.2018
      28.10.2018

      03.11.2018
      04.11.2018
      05.11.2018
      10.11.2018
      11.11.2018
      17.11.2018
      18.11.2018
      24.11.2018
      25.11.2018

      01.12.2018
      02.12.2018
      08.12.2018
      09.12.2018
      15.12.2018
      16.12.2018
      22.12.2018
      23.12.2018
      30.12.2018
      31.12.2018
    ].map(&Date.method(:parse))
  end

  let(:year) do
    Range.new(Date.new(2018, 1, 1), Date.new(2018, 12, 31)).to_a
  end

  it 'works for holidays' do
    expect(year.select(&:holiday?)).to eq(holidays)
  end

  it 'works for workdays' do
    expect(year.select(&:workday?)).to eq(year - holidays)
  end
end
